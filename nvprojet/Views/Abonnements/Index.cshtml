@model List<nvprojet.Models.offre>



@{ ViewBag.Title = "Index";
    Layout = "~/Views/_Layoutclient.cshtml"; }


<script src="~/Scripts/jquery-3.4.1.min.js"></script><br /><br />
<h1 style="color:black;font-size:72px;">choisissez l'offre qui vous convient</h1><br /><br />

<div class="single-product-area">
    <div class="zigzag-bottom"></div>
    <div class="container">
        <div class="row">
            @foreach (var item in Model)
            {
                <div class="col-md-3 col-sm-6">
                    <div class="single-shop-product">
                        <div class="product-upper">
                              <h2 style="margin-left:100px"><a href="#">@item.nom_s</a></h2>
                            <img src="~/Images/@item.img" alt="" width="280" height="160">
                          
                        </div>

                        <div class="product-carousel-price">

                            <h4>place : @item.Nbr_place</h4>

                            <h5>@item.ville_depart - @item.ville_arriver</h5>

                            <h5>@item.heure_dep - @item.heur_arv</h5>

                        </div>

                        <div class="product-option-shop">
                            <a href="#" class="btn btn-primary" data-target="#mymodel" data-toggle="modal" >s'abonner</a>
                        </div>
                    </div>
                </div>
                <script>
                    $(document).ready(function () {

                        $("#btnsubmit").click(function () {
                            $("#loaderdiv").show();
                            myformdata = $("#myform").serialize();
                            $.ajax({
                                type: "post",
                                url: "/abonnement/effectuer/@item.id",
                                data: myformdata,
                                success: function () {
                                    $("#loaderdiv").hide();
                                    $("#mymodel").modal("hide");
                                }
                            })
                        }

                        )


                    }
                    )
                </script>
            }


        </div>
    </div>
</div>

<div class="modal fade" id="mymodel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <a href="#" class="close" data-dismiss="modal">&times;</a>
                <h3 class="modal-title">effectuer votre abonnement</h3>

            </div>
            <div class="modal-body">
                <form id="myform">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-md-3">date de debut</label>
                            <input type="date" name="datedebut"  />
                        </div>
                        <div class="form-group">
                        <label class="control-label col-md-3">date de fin</label>
                        <input type="date" name="datefin"  />
                    </div>
                    </div>
                </form>
                <div style="text-align:center;display:none" id="loaderdiv">
                    <img src="~/Content/InternetSlowdown_Day.gif" width="80"/>

                </div>
            </div>
            <div class="modal-footer">
                <a href="#" class="btn btn-default" data-dismiss="modal">quitter</a>
               <input type="reset" value="valider" class="btn btn-success" id="btnsubmit" />

            </div>

        </div> 

    </div>

</div>

